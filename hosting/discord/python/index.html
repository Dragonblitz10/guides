
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="GalaxyGate Guides">
      
      
        <meta name="author" content="GalaxyGate Community">
      
      
        <link rel="canonical" href="https://wiki.galaxygate.net/hosting/discord/python/">
      
      
        <link rel="prev" href="../../">
      
      
        <link rel="next" href="../javascript/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>Python - GalaxyGate Guides</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hosting-a-discordpy-bot" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="GalaxyGate Guides" class="md-header__button md-logo" aria-label="GalaxyGate Guides" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GalaxyGate Guides
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Python
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="GalaxyGate Guides" class="md-nav__button md-logo" aria-label="GalaxyGate Guides" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    GalaxyGate Guides
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" tabindex="0" aria-expanded="false">
          Linux Basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux Basics" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Linux Basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../basics/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../basics/first_login/" class="md-nav__link">
        Login
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../basics/sudo_user/" class="md-nav__link">
        Creating Sudo User
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../basics/fix_hostname/" class="md-nav__link">
        Fix unable to resolve host
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="true">
          Hosting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hosting" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Hosting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3_2" tabindex="0" aria-expanded="true">
          Discord
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Discord" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Discord
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Python
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-your-bot" class="md-nav__link">
    Running your bot
  </a>
  
    <nav class="md-nav" aria-label="Running your bot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#systemd" class="md-nav__link">
    Systemd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#screen" class="md-nav__link">
    Screen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nohup" class="md-nav__link">
    Nohup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    Resources
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../javascript/" class="md-nav__link">
        JavaScript
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" tabindex="0" aria-expanded="false">
          Games
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Games" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Games
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../games/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2" tabindex="0" aria-expanded="false">
          Minecraft Java
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Minecraft Java" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Minecraft Java
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../games/minecraft/java/paper/" class="md-nav__link">
        Paper
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../games/minecraft/java/vanilla/" class="md-nav__link">
        Vanilla
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3" tabindex="0" aria-expanded="false">
          Minecraft Bedrock
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Minecraft Bedrock" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Minecraft Bedrock
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../games/minecraft/bedrock/bedrock/" class="md-nav__link">
        Bedrock
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../games/minecraft/bedrock/pocketmine/" class="md-nav__link">
        Pocketmine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../games/minecraft/bedrock/nukkit/" class="md-nav__link">
        Nukkit
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4_4" tabindex="0" aria-expanded="false">
          Terraria
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Terraria" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Terraria
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../games/terraria/pc/" class="md-nav__link">
        PC
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" tabindex="0" aria-expanded="false">
          Extras
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Extras" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Extras
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../extras/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_2" tabindex="0" aria-expanded="false">
          Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tools" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../extras/tools/using_nvm/" class="md-nav__link">
        NVM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../extras/tools/using_tmate/" class="md-nav__link">
        Tmate
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-your-bot" class="md-nav__link">
    Running your bot
  </a>
  
    <nav class="md-nav" aria-label="Running your bot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#systemd" class="md-nav__link">
    Systemd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#screen" class="md-nav__link">
    Screen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nohup" class="md-nav__link">
    Nohup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    Resources
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="hosting-a-discordpy-bot">Hosting a discord.py bot<a class="headerlink" href="#hosting-a-discordpy-bot" title="Permanent link">&para;</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>In this guide you will learn:</p>
<ul>
<li>What is needed to host a discord.py Bot.</li>
<li>How to keep the bot running after closing the SSH session.</li>
</ul>
<p>In this guide, we assume that:</p>
<ul>
<li>You're logged in as root or using a sudo user.</li>
<li>You are using discord.py as your library.</li>
<li>You already have your bot's files uploaded to the server.</li>
<li>You have confirmed your bot is working locally.</li>
<li>Know how to establish an SSH connection.</li>
<li>You have a Linux VPS (Debian/Ubuntu).</li>
</ul>
<p><em>Don't know how to connect to your server? Check out this <a href="../../../basics/first_login/">guide.</a></em></p>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p>In this section, we aim to install python3.8 to the server, note that debian users should be running these commands as <code>root</code> while ubuntu users can either use <code>root</code> or run these commands with <code>sudo</code> as a <code>sudo user</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since Debian 8 and lower don't have the required Python version that discord.py requires. You can always
use a tool like <a href="https://github.com/pyenv/pyenv"><code>pyenv</code></a> to easily compile and install any Python version 
that you want, however it won't be covered in this topic.</p>
</div>
<p>For Ubuntu, you would do:</p>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>software-properties-common<span class="w"> </span>-y
sudo<span class="w"> </span>add-apt-repository<span class="w"> </span>ppa:deadsnakes/ppa<span class="w"> </span>-y
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python3.8<span class="w"> </span>python3.8-dev<span class="w"> </span>python3.8-venv<span class="w"> </span>python3-pip<span class="w"> </span>-y
</code></pre></div>

<p>For Debian, you would do:</p>
<div class="codehilite"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;deb http://http.us.debian.org/debian/ testing non-free contrib main&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>/etc/apt/sources.list
apt<span class="w"> </span>update
apt<span class="w"> </span>install<span class="w"> </span>python3<span class="w"> </span>-y
</code></pre></div>

<p>Congrats! You now have Python 3.8 installed with pip. Now we can install the required dependencies for the bot 
to run.</p>
<p>Change to the path of your bot.</p>
<div class="codehilite"><pre><span></span><code>cd discord_bot
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You should replace <strong>discord_bot</strong> with the folder you uploaded to the server</p>
</div>
<p><strong>Recommended: Create a virtual enviroment and activate it.</strong></p>
<div class="codehilite"><pre><span></span><code>python3.8 -m venv venv
source venv/bin/activate
</code></pre></div>

<div class="admonition info">
<p class="admonition-title">Info</p>
<p>A virtual environment, or most commonly referred to as a venv, is an isolated environment for projects so
you don't have to worry about polluting the global namespace. See the <a href="https://docs.python.org/3/library/venv.html#creating-virtual-environments">official documentation</a> for more information.</p>
<p>You do not need to create a new one every time you start, modify or stop the bot.</p>
</div>
<p>Install the <code>discord.py</code> package.</p>
<div class="codehilite"><pre><span></span><code>pip install -U discord.py
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you use discord.py's voice features, then i would suggest appending <code>[voice]</code> at the end of the command.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To install from a <code>requirements.txt</code> file, simply run <code>pip install -Ur requirements.txt</code> instead.</p>
</div>
<h2 id="running-your-bot">Running your bot<a class="headerlink" href="#running-your-bot" title="Permanent link">&para;</a></h2>
<p>We installed our required dependencies and there's only one last thing to do, run the bot. </p>
<p>To run your bot you would simply do</p>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>bot.py
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you use a file like <code>launcher.py</code> to start your bot, replace <code>bot.py</code> with that instead.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Encountering a <code>ModuleNotFound: No module named 'discord'</code> when trying to run the command above? Chances are
you didn't activate the virtual environment or install the dependency.</p>
</div>
<p>Now you can close your SSH client, but chances are is that your bot will stop which can be frustrating. Luckily, you can solve this by
using a process manager such as <code>systemd</code> or a terminal multiplexer like <code>screen</code> to keep the session alive when you close your SSH connection. Read further down to learn how to utilize these programs.</p>
<h3 id="systemd">Systemd<a class="headerlink" href="#systemd" title="Permanent link">&para;</a></h3>
<p>The most common init system you'll ever find on a Linux distro.</p>
<p>To create and start editing a service file called <code>my_bot</code>, you would do</p>
<div class="codehilite"><pre><span></span><code>nano /etc/systemd/system/my_bot.service
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Replace <code>nano</code> with the editor you choose, otherwise leave it be.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Replace <strong>my_bot</strong> with the name of your bot</p>
</div>
<p>We will just use this boilerplate for our bot, make sure you change this to
the appropriate values.</p>
<div class="codehilite"><pre><span></span><code><span class="k">[Unit]</span>
<span class="na">Description</span><span class="o">=</span><span class="s">My Python Discord Bot</span>
<span class="na">After</span><span class="o">=</span><span class="s">multi-user.target</span>

<span class="k">[Service]</span>
<span class="na">WorkingDirectory</span><span class="o">=</span><span class="s">/root/discord_bot</span>
<span class="c1"># This is where your bot&#39;s code lies</span>
<span class="na">User</span><span class="o">=</span><span class="s">root</span>
<span class="c1"># Change user if you aren&#39;t using root</span>

<span class="c1"># Activates your virtual environment and starts the bot</span>
<span class="c1"># replace bot.py with whatever Python file that starts your bot</span>
<span class="na">ExecStart</span><span class="o">=</span><span class="s">/bin/bash -c &quot;source venv/bin/activate &amp;&amp; python bot.py&quot;</span><span class="w"> </span>

<span class="c1"># This will restart your bot if your bot doesn&#39;t return a 0 exit code</span>
<span class="na">Restart</span><span class="o">=</span><span class="s">on-failure</span>

<span class="k">[Install]</span>
<span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you don't use virtual environments, then you can just reassign the <code>ExecStart</code> part to <code>ExecStart=/usr/bin/python3.8 bot.py</code></p>
</div>
<p>To save these changes in <code>nano</code> you would simply type CTRL-X to save your change, <code>y</code> to confirm the change, and <code>Enter</code> to write that change
to <code>/etc/systemd/system/my_bot.service</code></p>
<p>Now you would enter this command to tell systemd to see your newly created or changed
service files.</p>
<div class="codehilite"><pre><span></span><code>systemctl<span class="w"> </span>daemon-reload
</code></pre></div>

<p>To start your bot, you would execute</p>
<div class="codehilite"><pre><span></span><code>systemctl start my_bot
</code></pre></div>

<p>To stop your bot, you would execute</p>
<div class="codehilite"><pre><span></span><code>systemctl stop my_bot
</code></pre></div>

<p>To restart your bot, you would execute</p>
<div class="codehilite"><pre><span></span><code>systemctl restart my_bot
</code></pre></div>

<p>To start your bot on VPS start, you would simply do</p>
<div class="codehilite"><pre><span></span><code>systemctl enable my_bot
</code></pre></div>

<p>and to revoke that you would do</p>
<div class="codehilite"><pre><span></span><code>systemctl disable my_bot
</code></pre></div>

<h3 id="screen">Screen<a class="headerlink" href="#screen" title="Permanent link">&para;</a></h3>
<p>Most beginners would prefer this option as it's pretty straightforward, but it doesn't offer
you the features a process manager would offer such as starting, stopping, and restarting your bot as <code>systemd</code> would.</p>
<p>To create a session called <code>my_bot</code>, you would do</p>
<div class="codehilite"><pre><span></span><code>screen -S my_bot
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Feel free to replace <strong>my_bot</strong> with something else.</p>
</div>
<p>You may have noticed that it cleared your screen, which is completely normal. This session will stay here forever until you explicitly close it or if the server shuts down.</p>
<p>In order to get your bot running, you must activate the virtual environment</p>
<div class="codehilite"><pre><span></span><code>source venv/bin/activate
</code></pre></div>

<p>Now, since you have your dependencies already installed and your virtual environment activated, you can start the bot with the following.</p>
<div class="codehilite"><pre><span></span><code>python bot.py
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Replace <code>bot.py</code> with whatever file you use to start your bot</p>
</div>
<p>Now you can simply disconnect from the session with <code>CTRL A</code> and <code>D</code> or just close the connection with your server. Congrats, your bot is running on a VPS without the need to keep your computer on.</p>
<p>Now if you would like to re-attach to <code>my_bot</code>'s session you would simply
enter</p>
<div class="codehilite"><pre><span></span><code>screen -r my_bot
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you used a different name don't forget to use that. <code>screen -ls</code> will also list all active screens.</p>
</div>
<p>To detach from the bot's session without closing it you would simply hit <code>CTRL A</code> and <code>D</code> with your keyboard.</p>
<p>To see how many screen sessions you have, simply enter</p>
<div class="codehilite"><pre><span></span><code>screen -ls
</code></pre></div>

<p>You should see a output similar to this</p>
<div class="codehilite"><pre><span></span><code>equity@server:~$ screen -ls
There is a screen on:
        4146.my_bot     (03/30/2020 12:09:15 AM)        (Detached)
1 Socket in /run/screen/S-equity.
equity@server:~$
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>(Detached)</code> on the far right means we aren't in the virtual session, otherwise it would
be <code>(Attached)</code></p>
</div>
<h3 id="nohup">Nohup<a class="headerlink" href="#nohup" title="Permanent link">&para;</a></h3>
<p>On many Linux systems (if not all), including Ubuntu and Debian, you can use nohup to run your bot even after you have closed a session.
To run nohup on your discord bot, you can do this, where bot.py is the name of your bot startup file.</p>
<div class="codehilite"><pre><span></span><code>nohup python3.8 bot.py &amp;
</code></pre></div>

<p>This will create a file in your current directory called 'nohup.out'. You can redirect it to a file such as 'logs.txt' by running this instead:</p>
<div class="codehilite"><pre><span></span><code>nohup python3.8 bot.py &amp;&gt; logs.txt &amp;
</code></pre></div>

<p>Tada! Your bot is online, and you can close the session without the bot dying.</p>
<p>If you want to turn off the bot, things get a bit more complicated. You need to either get the PID of the bot's process, then kill it, or make a command in the bot for owners that calls <code>os._exit(1)</code>. In this section, we'll cover getting the PID of the bot's process.
To get the PID of the bot, you can run this:</p>
<div class="codehilite"><pre><span></span><code>$ ps -ef
</code></pre></div>

<p>This will display a large list of running processes. You'll need to find the line that has "python3 bot.py" in the rightmost column, then find the PID of that line (it's in the second column). Once you have that PID, you can run <code>kill &lt;pid&gt;</code>, and the bot will gracefully free used memory, and shut off. Now, you can run the bot again :)</p>
<h2 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://discordpy.readthedocs.io/en/latest/">discord.py Docs</a></li>
<li><a href="https://github.com/Rapptz/discord.py">discord.py GitHub</a></li>
<li><a href="https://discord.gg/r3sSKJJ">discord.py Discord</a></li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>